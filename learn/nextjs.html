<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="Not another learning site."/><meta property="og:image" content="https://og-image.now.sh/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Not another learning site.</title><meta property="og:image" content="/assets/blog/hello-world/cover.jpg"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/9a02ef8d7080044fd83f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9a02ef8d7080044fd83f.css" data-n-g=""/><link rel="preload" href="/_next/static/css/41398a22422651cbf28b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/41398a22422651cbf28b.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-9ff931310d4e915a10d8.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.9d524150d48315f49e80.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5df174bccac825fb23a1.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-31a5c773c183002be64d.js" as="script"/><link rel="preload" href="/_next/static/chunks/49e579c2b52210023fe918155f19bcc549796e24.2f136fbf669b78fa81f9.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/learn/%5Bslug%5D-c0725f0d8894cb1dc5b3.js" as="script"/></head><body><div id="__next"><div class="min-h-screen"><main><div class="container mx-auto px-5"><h2 class="text-2xl md:text-4xl font-bold tracking-tight md:tracking-tighter leading-tight mb-20 mt-8"><a class="hover:underline" href="/">Learn</a>.</h2><article class="mb-32"><h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">Nextjs</h1><div class="mb-8 md:mb-16 sm:mx-0"><div class="sm:mx-0"><img src="/assets/blog/hello-world/cover.jpg" alt="Cover Image for Nextjs" class="shadow-sm" layout="responsive" width="1240" height="620"/></div></div><div class="max-w-2xl mx-auto"><div class="block md:hidden mb-6"><div>TODO: add language chip here</div></div></div><div class="max-w-2xl mx-auto"><div class="markdown-styles_markdown__1x9gM"><ol>
<li>Lambda (serverless) functions</li>
</ol>
<ul>
<li>These are functions that reside under the /api route of a Next.js app</li>
<li>server-side rendered React applications</li>
<li>These are routes that require fetching initial props from somewhere (using <code>getInitialProps</code> or <code>getServerSideProps</code>)</li>
</ul>
<ol start="2">
<li>Static HTML</li>
</ol>
<ul>
<li>no dynamic content and the data is always the same</li>
</ul>
<ol start="3">
<li>Static Site Generation (SSG)</li>
</ol>
<ul>
<li>Allow static site generation as one of the build options</li>
<li>These pages use the <code>getStaticProps</code> method to fetch the data that will be used to generate static HTML files, as well as <code>getStaticPaths</code> to get a list of all the subroutes that need to be generated as HTML files</li>
</ul>
<ol start="4">
<li>Incremental Static Regeneration (ISR)</li>
</ol>
<ul>
<li>It combines the benefits of server-side rendered pages and SSG by generating static HTML files on runtime.</li>
</ul>
<h1>Creating and Deploying a Static Site to GitHub Pages</h1>
<ol>
<li>Create a static build</li>
</ol>
<ul>
<li>Add the build script to your package.json file
<div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"next build &#x26;&#x26; next export"</span>
<span class="token punctuation">}</span>
</code></pre></div>
</li>
<li>Build the static site:
<div class="remark-highlight"><pre class="language-shell"><code class="language-shell">$ <span class="token function">npm</span> run build
</code></pre></div>
</li>
<li>This will create a directory called out which contains a fully static version of your website.</li>
</ul>
<ol start="2">
<li>Create a new repo and push your code up</li>
</ol>
<ul>
<li><strong>Create a Github repo that contains your Github username and .github.io.</strong></li>
<li>For example my GitHub username is <code>phil-willis</code> and my repo name is <code>phil-willis.github.io</code></li>
</ul>
<ol start="3">
<li>Create a personal access token</li>
</ol>
<ul>
<li>Click the avatar > profile > <code>Developer setttings</code> > <code>Personal access token</code> or <a href="https://github.com/settings/tokens">click here</a>
<img src="/assets/blog/github/gh-profile-settings.png" alt="gh-profile-settings">
<img src="/assets/blog/github/gh-personal-access-token.png" alt="gh-personal-access-token">
<img src="/assets/blog/github/gh-personal-access-token-scopes.png" alt="gh-personal-access-token-scopes"></li>
<li>note: <code>&#x3C;repo_name> for github actions</code></li>
<li>check the <code>repo</code> section</li>
<li><strong>DON'T FORGET TO COPY THE TOKEN</strong></li>
</ul>
<ol start="4">
<li>
<p>In your repo's settings paste the <code>ACCESS_TOKEN</code>
<img src="/assets/blog/github/gh-secrets.png" alt="gh-secrets"></p>
</li>
<li>
<p>Create a Github workflow file</p>
</li>
</ol>
<ul>
<li>Create a directory called .github/workflows and inside that directory, create a YAML file with the following contents:</li>
</ul>
<div class="remark-highlight"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span> Build and Deploy
<span class="token key atrule">on</span><span class="token punctuation">:</span> 
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build-and-deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout üõéÔ∏è
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2.3.1
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">persist-credentials</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Cache üíæ
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/cache@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">path</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.workspace <span class="token punctuation">}</span><span class="token punctuation">}</span>/.next/cache
          <span class="token key atrule">key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">-</span>nextjs<span class="token punctuation">-</span>$<span class="token punctuation">{</span><span class="token punctuation">{</span> hashFiles('<span class="token important">**/package-lock.json')</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install and Build
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npm ci
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run export
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
            <span class="token key atrule">CI</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> touch out/.nojekyll

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy üöÄ
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> JamesIves/github<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>deploy<span class="token punctuation">-</span>action@3.7.1
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">ACCESS_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">BRANCH</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages 
          <span class="token key atrule">FOLDER</span><span class="token punctuation">:</span> out
          <span class="token key atrule">CLEAN</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div>
<ul>
<li>Now every push to the <code>main</code> branch will build a static version of our site using the <code>$ npm run build</code> script.</li>
<li>Using an action called Deploy to GitHub Actions, it will use your token to create and push a clean commit to the <code>gh-pages</code> repo from the <code>./out</code> directory that got generated. If the branch doesn't exist, it will create it.</li>
<li>GitHub Pages uses Jekyll under the hood to host and render static sites. However, Jekyll ignores every directory that starts with an underscore character.</li>
<li>This will be a problem because Next.js generates the static assets (CSS and JavaScript) inside of a directory called _next and there's no way to changes</li>
<li>To get around this issue, you need to create an empty file called <code>.nojekyll</code> inside of your <code>gh-pages</code> branch.</li>
</ul>
<ol start="6">
<li>Update/create a <code>next.config.js</code></li>
</ol>
<ul>
<li>If you don't have a custom domain attached to your GitHub Pages site, it will be served under username.github.io/repo.</li>
<li>By default, Next.js assumes that your site is located at the root level of your domain, but in this case, it's actually located under the repo path.
<div class="remark-highlight"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> basePath <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'/repo'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  basePath<span class="token punctuation">,</span>
  assetPrefix<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>basePath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
</li>
</ul>
<h2>Publish with Github Actions</h2>
<ol>
<li>create</li>
<li>In your repo settings paste the <code>ACCESS_TOKEN</code></li>
</ol>
<ul>
<li></li>
</ul>
</div></div></article></div></main></div><footer class="bg-accent-1 border-t border-accent-2"><div class="container mx-auto px-5"><div class="py-28 flex flex-col lg:flex-row items-center"><h3 class="text-4xl lg:text-5xl font-bold tracking-tighter leading-tight text-center lg:text-left mb-10 lg:mb-0 lg:pr-4 lg:w-1/2">Statically Generated with Next.js.</h3><div class="flex flex-col lg:flex-row justify-center items-center lg:pl-4 lg:w-1/2"><a href="https://nextjs.org/docs/basic-features/pages" class="mx-3 bg-black hover:bg-white hover:text-black border border-black text-white font-bold py-3 px-12 lg:px-8 duration-200 transition-colors mb-6 lg:mb-0">Read Documentation</a><a href="https://github.com/vercel/next.js/tree/canary/examples/blog-starter" class="mx-3 font-bold hover:underline">View on GitHub</a></div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Nextjs","slug":"nextjs","content":"\u003col\u003e\n\u003cli\u003eLambda (serverless) functions\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eThese are functions that reside under the /api route of a Next.js app\u003c/li\u003e\n\u003cli\u003eserver-side rendered React applications\u003c/li\u003e\n\u003cli\u003eThese are routes that require fetching initial props from somewhere (using \u003ccode\u003egetInitialProps\u003c/code\u003e or \u003ccode\u003egetServerSideProps\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eStatic HTML\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eno dynamic content and the data is always the same\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eStatic Site Generation (SSG)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eAllow static site generation as one of the build options\u003c/li\u003e\n\u003cli\u003eThese pages use the \u003ccode\u003egetStaticProps\u003c/code\u003e method to fetch the data that will be used to generate static HTML files, as well as \u003ccode\u003egetStaticPaths\u003c/code\u003e to get a list of all the subroutes that need to be generated as HTML files\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003eIncremental Static Regeneration (ISR)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eIt combines the benefits of server-side rendered pages and SSG by generating static HTML files on runtime.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003eCreating and Deploying a Static Site to GitHub Pages\u003c/h1\u003e\n\u003col\u003e\n\u003cli\u003eCreate a static build\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eAdd the build script to your package.json file\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-json\"\u003e\u003ccode class=\"language-json\"\u003e\u003cspan class=\"token property\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token property\"\u003e\"build\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"next build \u0026#x26;\u0026#x26; next export\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eBuild the static site:\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e$ \u003cspan class=\"token function\"\u003enpm\u003c/span\u003e run build\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003eThis will create a directory called out which contains a fully static version of your website.\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eCreate a new repo and push your code up\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eCreate a Github repo that contains your Github username and .github.io.\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eFor example my GitHub username is \u003ccode\u003ephil-willis\u003c/code\u003e and my repo name is \u003ccode\u003ephil-willis.github.io\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eCreate a personal access token\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eClick the avatar \u003e profile \u003e \u003ccode\u003eDeveloper setttings\u003c/code\u003e \u003e \u003ccode\u003ePersonal access token\u003c/code\u003e or \u003ca href=\"https://github.com/settings/tokens\"\u003eclick here\u003c/a\u003e\n\u003cimg src=\"/assets/blog/github/gh-profile-settings.png\" alt=\"gh-profile-settings\"\u003e\n\u003cimg src=\"/assets/blog/github/gh-personal-access-token.png\" alt=\"gh-personal-access-token\"\u003e\n\u003cimg src=\"/assets/blog/github/gh-personal-access-token-scopes.png\" alt=\"gh-personal-access-token-scopes\"\u003e\u003c/li\u003e\n\u003cli\u003enote: \u003ccode\u003e\u0026#x3C;repo_name\u003e for github actions\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003echeck the \u003ccode\u003erepo\u003c/code\u003e section\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDON'T FORGET TO COPY THE TOKEN\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e\n\u003cp\u003eIn your repo's settings paste the \u003ccode\u003eACCESS_TOKEN\u003c/code\u003e\n\u003cimg src=\"/assets/blog/github/gh-secrets.png\" alt=\"gh-secrets\"\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCreate a Github workflow file\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eCreate a directory called .github/workflows and inside that directory, create a YAML file with the following contents:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003e\u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Build and Deploy\n\u003cspan class=\"token key atrule\"\u003eon\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \n  \u003cspan class=\"token key atrule\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003ebranches\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e main\n\u003cspan class=\"token key atrule\"\u003ejobs\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"token key atrule\"\u003ebuild-and-deploy\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token key atrule\"\u003eruns-on\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e ubuntu\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003elatest\n\n    \u003cspan class=\"token key atrule\"\u003esteps\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Checkout üõéÔ∏è\n        \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e actions/checkout@v2.3.1\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003epersist-credentials\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean important\"\u003efalse\u003c/span\u003e\n\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Cache üíæ\n        \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e actions/cache@v2\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003epath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e github.workspace \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e/.next/cache\n          \u003cspan class=\"token key atrule\"\u003ekey\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e runner.os \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003enextjs\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e$\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e hashFiles('\u003cspan class=\"token important\"\u003e**/package-lock.json')\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Install and Build\n        \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e actions/setup\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003enode@v1\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003erun\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e npm ci\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003erun\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e npm run build\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003erun\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e npm run export\n        \u003cspan class=\"token key atrule\"\u003eenv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"token key atrule\"\u003eCI\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean important\"\u003etrue\u003c/span\u003e\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003erun\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e touch out/.nojekyll\n\n      \u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token key atrule\"\u003ename\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e Deploy üöÄ\n        \u003cspan class=\"token key atrule\"\u003euses\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e JamesIves/github\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003epages\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003edeploy\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eaction@3.7.1\n        \u003cspan class=\"token key atrule\"\u003ewith\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003eACCESS_TOKEN\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e $\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e secrets.ACCESS_TOKEN \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"token key atrule\"\u003eBRANCH\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e gh\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003epages \n          \u003cspan class=\"token key atrule\"\u003eFOLDER\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e out\n          \u003cspan class=\"token key atrule\"\u003eCLEAN\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token boolean important\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eNow every push to the \u003ccode\u003emain\u003c/code\u003e branch will build a static version of our site using the \u003ccode\u003e$ npm run build\u003c/code\u003e script.\u003c/li\u003e\n\u003cli\u003eUsing an action called Deploy to GitHub Actions, it will use your token to create and push a clean commit to the \u003ccode\u003egh-pages\u003c/code\u003e repo from the \u003ccode\u003e./out\u003c/code\u003e directory that got generated. If the branch doesn't exist, it will create it.\u003c/li\u003e\n\u003cli\u003eGitHub Pages uses Jekyll under the hood to host and render static sites. However, Jekyll ignores every directory that starts with an underscore character.\u003c/li\u003e\n\u003cli\u003eThis will be a problem because Next.js generates the static assets (CSS and JavaScript) inside of a directory called _next and there's no way to changes\u003c/li\u003e\n\u003cli\u003eTo get around this issue, you need to create an empty file called \u003ccode\u003e.nojekyll\u003c/code\u003e inside of your \u003ccode\u003egh-pages\u003c/code\u003e branch.\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003eUpdate/create a \u003ccode\u003enext.config.js\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eIf you don't have a custom domain attached to your GitHub Pages site, it will be served under username.github.io/repo.\u003c/li\u003e\n\u003cli\u003eBy default, Next.js assumes that your site is located at the root level of your domain, but in this case, it's actually located under the repo path.\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e basePath \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e process\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eenv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token constant\"\u003eNODE_ENV\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'production'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token string\"\u003e'/repo'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\nmodule\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\"\u003eexports\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  basePath\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n  assetPrefix\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ebasePath\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e/\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003ePublish with Github Actions\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003ecreate\u003c/li\u003e\n\u003cli\u003eIn your repo settings paste the \u003ccode\u003eACCESS_TOKEN\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","ogImage":{"url":"/assets/blog/hello-world/cover.jpg"},"coverImage":"/assets/blog/hello-world/cover.jpg"}},"__N_SSG":true},"page":"/learn/[slug]","query":{"slug":"nextjs"},"buildId":"DEvVREcl0PJ4MGgDR68y4","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-9ff931310d4e915a10d8.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.9d524150d48315f49e80.js" async=""></script><script src="/_next/static/chunks/commons.5df174bccac825fb23a1.js" async=""></script><script src="/_next/static/chunks/pages/_app-31a5c773c183002be64d.js" async=""></script><script src="/_next/static/chunks/49e579c2b52210023fe918155f19bcc549796e24.2f136fbf669b78fa81f9.js" async=""></script><script src="/_next/static/chunks/pages/learn/%5Bslug%5D-c0725f0d8894cb1dc5b3.js" async=""></script><script src="/_next/static/DEvVREcl0PJ4MGgDR68y4/_buildManifest.js" async=""></script><script src="/_next/static/DEvVREcl0PJ4MGgDR68y4/_ssgManifest.js" async=""></script></body></html>